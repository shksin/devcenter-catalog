$schema: "1.0"
name: "custom-dev"
image: microsoftvisualstudio_visualstudioplustools_vs-2022-ent-general-win11-m365-gen2
description: "Custom Definiion for DevBox"

tasks:
  - name: winget
    description: Install AZD
    parameters:
      package:  Microsoft.Azd

  - name: winget
    description: Install Azure CLI
    parameters:
      package: Microsoft.AzureCLI

  - name: winget
    parameters:
      downloadUrl: 'https://raw.githubusercontent.com/shksin/devcenter-catalog/refs/heads/customisation/.configurations/devbox.dsc.yaml'

  - name: powershell
    description: add current user to docker-users group
    parameters:
      command: |
        net localgroup docker-users \\\"""NT AUTHORITY\Authenticated Users\\\""" /ADD

  - name: powershell
    parameters:
      command: |
        $env:Path = [System.Environment]::GetEnvironmentVariable('Path','Machine') + ';' + [System.Environment]::GetEnvironmentVariable('Path','User') 
